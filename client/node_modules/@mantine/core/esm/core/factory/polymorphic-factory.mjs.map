{"version":3,"file":"polymorphic-factory.mjs","sources":["../../../src/core/factory/polymorphic-factory.ts"],"sourcesContent":["import { forwardRef } from 'react';\nimport {\n  FactoryPayload,\n  StaticComponents,\n  ThemeExtend,\n  identity,\n  ComponentClasses,\n} from './factory';\nimport { PolymorphicComponentProps } from './create-polymorphic-component';\n\nexport interface PolymorphicFactoryPayload extends FactoryPayload {\n  defaultComponent: any;\n  defaultRef: any;\n}\n\nexport function polymorphicFactory<Payload extends PolymorphicFactoryPayload>(\n  ui: React.ForwardRefRenderFunction<Payload['defaultRef'], Payload['props']>\n) {\n  type ComponentProps<C> = PolymorphicComponentProps<C, Payload['props']>;\n\n  type _PolymorphicComponent = <C = Payload['defaultComponent']>(\n    props: ComponentProps<C>\n  ) => React.ReactElement;\n\n  type ComponentProperties = Omit<React.FunctionComponent<ComponentProps<any>>, never>;\n\n  type PolymorphicComponent = _PolymorphicComponent &\n    ComponentProperties &\n    ThemeExtend<Payload> &\n    ComponentClasses<Payload> &\n    StaticComponents<Payload['staticComponents']>;\n\n  const Component = forwardRef(ui) as unknown as PolymorphicComponent;\n\n  Component.extend = identity as any;\n\n  return Component as PolymorphicComponent;\n}\n"],"names":[],"mappings":";;;;AAIO,SAAS,kBAAkB,CAAC,EAAE,EAAE;AACvC,EAAE,MAAM,SAAS,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC;AACnC,EAAE,SAAS,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC9B,EAAE,OAAO,SAAS,CAAC;AACnB;;"}