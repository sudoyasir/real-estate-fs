{"version":3,"file":"DirectionProvider.js","sources":["../../../src/core/DirectionProvider/DirectionProvider.tsx"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react';\nimport { useIsomorphicEffect } from '@mantine/hooks';\n\nexport type Direction = 'ltr' | 'rtl';\n\nexport interface DirectionContextValue {\n  dir: Direction;\n  toggleDirection(): void;\n  setDirection(dir: Direction): void;\n}\n\nexport const DirectionContext = createContext<DirectionContextValue>({\n  dir: 'ltr',\n  toggleDirection: () => {},\n  setDirection: () => {},\n});\n\nexport function useDirection() {\n  return useContext(DirectionContext);\n}\n\nexport interface DirectionProviderProps {\n  /** Your application */\n  children: React.ReactNode;\n\n  /** Direction set as a default value, `ltr` by default */\n  initialDirection?: Direction;\n\n  /** Determines whether direction should be updated on mount based on `dir` attribute set on root element (usually html element), `true` by default  */\n  detectDirection?: boolean;\n}\n\nexport function DirectionProvider({\n  children,\n  initialDirection = 'ltr',\n  detectDirection = true,\n}: DirectionProviderProps) {\n  const [dir, setDir] = useState<Direction>(initialDirection);\n\n  const setDirection = (direction: Direction) => {\n    setDir(direction);\n    document.documentElement.setAttribute('dir', direction);\n  };\n\n  const toggleDirection = () => setDirection(dir === 'ltr' ? 'rtl' : 'ltr');\n\n  useIsomorphicEffect(() => {\n    if (detectDirection) {\n      const direction = document.documentElement.getAttribute('dir');\n      if (direction === 'rtl' || direction === 'ltr') {\n        setDirection(direction);\n      }\n    }\n  }, []);\n\n  return (\n    <DirectionContext.Provider value={{ dir, toggleDirection, setDirection }}>\n      {children}\n    </DirectionContext.Provider>\n  );\n}\n"],"names":["createContext","useContext","useState","useIsomorphicEffect","React"],"mappings":";;;;;;;;;;;;AAEY,MAAC,gBAAgB,GAAGA,mBAAa,CAAC;AAC9C,EAAE,GAAG,EAAE,KAAK;AACZ,EAAE,eAAe,EAAE,MAAM;AACzB,GAAG;AACH,EAAE,YAAY,EAAE,MAAM;AACtB,GAAG;AACH,CAAC,EAAE;AACI,SAAS,YAAY,GAAG;AAC/B,EAAE,OAAOC,gBAAU,CAAC,gBAAgB,CAAC,CAAC;AACtC,CAAC;AACM,SAAS,iBAAiB,CAAC;AAClC,EAAE,QAAQ;AACV,EAAE,gBAAgB,GAAG,KAAK;AAC1B,EAAE,eAAe,GAAG,IAAI;AACxB,CAAC,EAAE;AACH,EAAE,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,GAAGC,cAAQ,CAAC,gBAAgB,CAAC,CAAC;AACnD,EAAE,MAAM,YAAY,GAAG,CAAC,SAAS,KAAK;AACtC,IAAI,MAAM,CAAC,SAAS,CAAC,CAAC;AACtB,IAAI,QAAQ,CAAC,eAAe,CAAC,YAAY,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;AAC5D,GAAG,CAAC;AACJ,EAAE,MAAM,eAAe,GAAG,MAAM,YAAY,CAAC,GAAG,KAAK,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC,CAAC;AAC5E,EAAEC,yBAAmB,CAAC,MAAM;AAC5B,IAAI,IAAI,eAAe,EAAE;AACzB,MAAM,MAAM,SAAS,GAAG,QAAQ,CAAC,eAAe,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;AACrE,MAAM,IAAI,SAAS,KAAK,KAAK,IAAI,SAAS,KAAK,KAAK,EAAE;AACtD,QAAQ,YAAY,CAAC,SAAS,CAAC,CAAC;AAChC,OAAO;AACP,KAAK;AACL,GAAG,EAAE,EAAE,CAAC,CAAC;AACT,EAAE,uBAAuBC,cAAK,CAAC,aAAa,CAAC,gBAAgB,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,eAAe,EAAE,YAAY,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAC;AACrI;;;;"}